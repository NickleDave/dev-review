<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
        <title> - dev-review</title><meta name="Description" content=""><meta property="og:title" content="" />
<meta property="og:description" content="Perform code review Code author communicates code and context The first step initiating the actual code review phase is for the code author to select a segment of their code to be reviewed. The success and impact of the code review will depend, to some degree, on how appropriate the selected segment is, so it warrants some consideration from the code author. Here are some points to keep in mind when selecting your code segment." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://researchcodereviewcommunity.github.io/dev-review/recipes/perform_code_review/" /><meta property="article:section" content="recipes" />



<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content=""/>
<meta name="twitter:description" content="Perform code review Code author communicates code and context The first step initiating the actual code review phase is for the code author to select a segment of their code to be reviewed. The success and impact of the code review will depend, to some degree, on how appropriate the selected segment is, so it warrants some consideration from the code author. Here are some points to keep in mind when selecting your code segment."/>
<meta name="application-name" content="dev-review">
<meta name="apple-mobile-web-app-title" content="dev-review"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="https://researchcodereviewcommunity.github.io/dev-review/recipes/perform_code_review/" /><link rel="prev" href="https://researchcodereviewcommunity.github.io/dev-review/recipes/recipe_template/" /><link rel="next" href="https://researchcodereviewcommunity.github.io/dev-review/recipes/meet_and_agree_on_objectives/" /><link rel="stylesheet" href="/dev-review/lib/normalize/normalize.min.css"><link rel="stylesheet" href="/dev-review/css/style.min.css"><link rel="stylesheet" href="/dev-review/lib/fontawesome-free/all.min.css"><link rel="stylesheet" href="/dev-review/lib/animate/animate.min.css"><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "",
        "inLanguage": "en",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:\/\/researchcodereviewcommunity.github.io\/dev-review\/recipes\/perform_code_review\/"
        },"genre": "recipes","wordcount":  1935 ,
        "url": "https:\/\/researchcodereviewcommunity.github.io\/dev-review\/recipes\/perform_code_review\/","publisher": {
            "@type": "Organization",
            "name": "Author"},"author": {
                "@type": "Person",
                "name": "Author"
            },"description": ""
    }
    </script></head>
    <body header-desktop="" header-mobile=""><script type="text/javascript">(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : '' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/dev-review/" title="dev-review"><span class="header-title-pre"><i class="fas fa-code"></i></span>Research Code Review Community</a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/dev-review/dev-review/posts/"> Posts </a><a class="menu-item" href="/dev-review/dev-review/tags/"> Tags </a><a class="menu-item" href="/dev-review/dev-review/categories/"> Categories </a><span class="menu-item delimiter"></span><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                    <i class="fas fa-adjust fa-fw"></i>
                </a>
            </div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/dev-review/" title="dev-review"><span class="header-title-pre"><i class="fas fa-code"></i></span>Research Code Review Community</a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><a class="menu-item" href="/dev-review/dev-review/posts/" title="">Posts</a><a class="menu-item" href="/dev-review/dev-review/tags/" title="">Tags</a><a class="menu-item" href="/dev-review/dev-review/categories/" title="">Categories</a><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                <i class="fas fa-adjust fa-fw"></i>
            </a></div>
    </div>
</header>
<div class="search-dropdown desktop">
    <div id="search-dropdown-desktop"></div>
</div>
<div class="search-dropdown mobile">
    <div id="search-dropdown-mobile"></div>
</div>
<main class="main">
                <div class="container"><div class="page single special"><h1 class="single-title animated pulse faster"></h1><div class="content" id="content"><h1 id="perform-code-review">Perform code review</h1>
<h2 id="code-author-communicates-code-and-context">Code author communicates code and context</h2>
<p>The first step initiating the actual code review phase is for the code author to
select a segment of their code to be reviewed. The success and impact of the code
review will depend, to some degree, on how appropriate the selected segment is,
so it warrants some consideration from the code author. Here are some points to
keep in mind when selecting your code segment.</p>
<ul>
<li>Your choice should address the objectives set at the <a href="../meet_and_agree_on_objectives" rel="">Meet and Agree on
Objectives step</a>. For example, if you want to
get feedback on the style of your code, picking <em>recent additions</em> to the code
will be more reflective of your own style rather than portions that you have
<em>amended</em>, since they might have been originally written by someone else.
Alternatively, if you want a general overview of the readability of your code,
pick a snippet that shares characteristics with many other areas of the code
base so that the feedback on this particular snippet can be extrapolated more
broadly. This applies in general: the more representative of the codebase the
snippet is, the more widely relevant the feedback.</li>
<li>We recommend selecting a snippet of code that is between <strong>50 and 100 lines long</strong>
in total, and no longer than 200 lines. There is clear evidence from the
literature of industry studies that the quality and impact of code review
declines rapidly as the length of the code to review increases. We also make
this recommendation from personal experience; you probably have had the
experience yourself of being amazed at how long it takes to decipher even a
single line of code! These numbers can be flexed depending on how familiar the
reviewer is with your code: the less familiar, the less code you should
select.</li>
<li>As the author, you should be familiar with this segment of code. Don&rsquo;t select
something that your yourself don&rsquo;t understand.</li>
</ul>
<p>Next, it&rsquo;s a good idea to share the code to review with the reviewer ahead
of the review meeting. This gives an opportunity for the reviewer to
explore the code at their own pace and form independent
opinions. Prior exposure to the code will also make it easier for
them to navigate the code during the review itself.</p>
<p>To get the most out of the review, you as the author of the code
will also want to help the reviewer understand
how the particular snippet you select fits into the overall code.
This helps the reviewer provide relevant comments
and constructive feedback.
As an illustration, picture the case where the code under review consists of
a couple methods belonging to a class. The methods were implemented for a
specific purpose, and they might interact in a specific way.
The methods also play particular role within the class
itself, a class that is designed in its own way, to fit its own purpose.
The purpose, the design and the implementation of the methods and their
surrounding code structures is key to understand the choices and
decisions made when writing the code.</p>
<p>When you share a piece of code with reviewers, attach a
description of its context. Explain what problem the code solves,
and how it solves it. Make clear the constraints you had to work with.
If the code is part of a larger codebase, describe how it fits within
the bigger logic and explicit the relationships with other parts that
use it or are used by it.</p>
<blockquote>
<p><strong>How to share code?</strong>
Ideally, revisions of your research software should be available from
development platforms like GitHub, GitLab or Bitbucket. Simply give
the reviewer a permalink (see figure ??) or a commit SHA-1 and
relevant line numbers. This is the preferred option as it gives
reviewers the opporunity to navigate the whole codebase. Another
option is <a href="https://gist.github.com/" target="_blank" rel="noopener noreffer">GitHub gists</a>. If you send
your code by email, make sure to share the relevant files and clearly
identify the version you are sharing.</p>
</blockquote>
<p><figure><a class="lightgallery" href="/dev-review/images/github_permalink.png" title="To get a link to a particular line (permalink) on GitHub, click on the line number on the left hand side" data-thumbnail="/dev-review/images/github_permalink.png" data-sub-html="<h2>To get a link to a particular line (permalink) on GitHub, click on the line number on the left hand sise. Most development platforms can generate links to a particular line, for a particular revision.</h2><p>To get a link to a particular line (permalink) on GitHub, click on the line number on the left hand side</p>">
        <img
            class="lazyload"
            src="/dev-review/svg/loading.min.svg"
            data-src="/dev-review/images/github_permalink.png"
            data-srcset="/dev-review/images/github_permalink.png, /dev-review/images/github_permalink.png 1.5x, /dev-review/images/github_permalink.png 2x"
            data-sizes="auto"
            alt="/dev-review/images/github_permalink.png" />
    </a><figcaption class="image-caption">To get a link to a particular line (permalink) on GitHub, click on the line number on the left hand sise. Most development platforms can generate links to a particular line, for a particular revision.</figcaption>
    </figure></p>
<blockquote>
<p>callout here about diff workflows &ldquo;merge workflow&rdquo;, &ldquo;github workflow&rdquo;</p>
</blockquote>
<pre><code>  - If you are going down an async review route, then providing the reviewer with a merge/pull request will be very helpful here
- It might not be possible to share your code openly like this, or you may not be set up with version control yet
  - in that case, consider using something like [GitHub gists](https://gist.github.com/) to share your code
  - as a last resort, share your code snippet as an attachement to email or link to a file hosting location
- Should be done a few days before the review meeting so that the reviewer has time to look at it. Exact timing should be discussed and MAO.
- If your code has a complex environment, it might be desirable to share a containerised version of your code/software through somethign like Binder
    - mention CODECHECK as perhaps a better option for this kind of higher level check of your code
</code></pre>
<h2 id="reviewer-reviews-code">Reviewer reviews code</h2>
<p>Code review can seem intimidating, even for the reviewer.
Where do you even start? What do you look at?
The good news is: there are a number of points that are almost always worth looking at.
In particular, readability is often a good place from which to start a code review.
You can start simple, for instance looking at variables' and functions' names: are they explicit?
Do they carry intent? As you get more and more familiar with the code under review,
move on to larger structure: can some of the functions be split into several functions?
Do you see any complex conditional statements that you find hard to read?
Eventually, perhaps after several iterations of the code review process,
you may be able to criticise the code design,
for instance its modules and the relationships between them. But don&rsquo;t start from there!</p>
<p>As discussed in the Meet and Agree on objectives phase, however,
code reviews are most effective when a clear goal is set.
This goal can help you as a reviewer to orient your feedback,
and focus on what matters from the point of view of this overall objective.
It is also good practice to calibrate your review for the author,
keeping in mind their programing experience.
For instance, if the code review aims at assessing readability in general,
and you knew that the code author has limited experience,
you would want to pay attention to variable and function names,
parameter lists, complex conditionals, or lengthy functions.
It would probably be best to keep away from suggesting using the latest and greatest features of the language.
If the review is about writing more idiomatic code, however,
the focus changes to looking specifically at how the code under review
makes use of the language it is written in.</p>
<p>Given the unique goals that researchers have when writing code,
and the existing good practices for code review developed across industry and academia,
we suggest a workflow with two key elements.
First of all, keep the authors' objectives in mind.
To achieve this, begin your review by refreshing your memory about what you and
the author discussed when you met initially.
The second key element is to work from a checklist.
We provide a checklist <a href="../guidelines/points-to-check-for-reviewers.md" rel="">here</a>.
Please see also the additional resources on the <a href="../refs-related.md" rel="">References and Related Work</a> page.
Of course, no checklist can perfectly capture all the dimensions of research
code review.
Our goal in providing a checklist is to give beginners somewhere to start, and
to help experts keep in mind what common issues are that frequently need
attention.
As you work through the checklist,
make notes you can refer to during the review meeting and perhaps share
with the author afterwards.
You will probably find, as you go through the exercise of outlining some notes,
that there are one or two key points you will want to talk about with the
author.
These key points can form the focus for when you and the author meet, as
described in the next section.</p>
<h2 id="author-and-reviewer-meet">Author and reviewer meet</h2>
<ul>
<li>key points:
<ul>
<li>there are two ways to do code review: synchronous/in-person, and asynchronous</li>
<li>while there is not much existing research, what does exist suggests that for research code review, the process should include face-to-face, synchronous component [Wilson 2015]</li>
<li>This is because there are such different backgrounds that can go into code review and both the author and reviewer need to make sure they are understanding each other</li>
</ul>
</li>
<li>A good way to open up this meeting might be for the author and reviewer to go over the scientific context for the code review</li>
<li>Reviewer drives review according to their notes. They discuss the code by giving direct feedback or asking questions challenging the code&rsquo;s design, implementation and documentation.</li>
<li>Author responds to reviewer&rsquo;s comments and questions. They describe the structure, explain implementation, justify decisions.</li>
<li>Live reviews help build trust and understand the other person&rsquo;s mindset.</li>
<li>This is a conversation in which the code author has the opportunity to talk about their code out loud. By asking questions, expressing opinions and challenging assumptions a code reviewer triggers new ideas and different perspectives.
<ul>
<li>
<blockquote>
<p>[name=David] maybe &ldquo;suggesting alternatives&rdquo; or something a bit less aggressive than  &ldquo;challenging assumptions&rdquo;?</p>
</blockquote>
</li>
</ul>
</li>
<li>Predefined objectives should be kept in mind. Conversation can be powerful but should be kept on a tight leash. It&rsquo;s okay for anyone to stop the conversation and say they feel it is losing focus. In this case it is time to move to the next topic.</li>
<li></li>
<li>A code review is not an evaluation of the author&rsquo;s worth as a programmer. Throughout the review, participants should keep in mind
<ul>
<li>Differences in levels of experience.</li>
<li>Differences in scientific and programming backgrounds.</li>
<li>Code quality is often subjective and context dependent.</li>
<li><em>More?</em>&hellip;</li>
<li></li>
</ul>
</li>
<li>By opening their work for feedback, code authors make <em>themselves</em> vulnerable. This vulnerability must be taken into account and respected by reviewers at all times. Reviewers must take caution in expressing feedback and opinions. Authors must respect reviewer&rsquo;s comments and questions.</li>
<li>Reviewing can be mentally demanding. It can be difficult for a reviewer to be mindful of how they phrase feedback at all times. Therefore authors should also try not to take feedback personally. This is especially true for written, asynchronous reviews.</li>
<li>Example of questionable reviewer&rsquo;s feedback:
<ul>
<li>You should rename this function</li>
<li>This function should be renamed</li>
</ul>
</li>
<li>Examples of good reviewer&rsquo;s feedback
<ul>
<li>I think this function&rsquo;s name is misleading</li>
<li>This function&rsquo;s name didn&rsquo;t help me understand what it does.</li>
</ul>
</li>
<li>Meeting should be kept short, under 60', 45' being a good target duration in most cases. This is to avoid fatigue. Two 45' review meetings will likely be more effective than a single 90' meeting. This can, however, be decided on the spot or ahead of the meeting.</li>
<li>Time will likely run out. It is possible than conversations on some of the points could have been shorter. It is also possible that the corresponding points needed to be discussed in details for reasons only made clear during teh review itself. In any case, both authors and reviewers can choose to meet again to continue the review.</li>
</ul>
<h2 id="code-author-implements-changes">Code author implements changes</h2>
<h2 id="rinse-and-repeat">Rinse and repeat</h2>
</div></div></div>
            </main><footer class="footer">
        <div class="footer-container"><div class="footer-line">Powered by <a href="https://gohugo.io/" target="_blank" rel="noopener noreffer" title="Hugo 0.85.0">Hugo</a> | Theme - <a href="https://github.com/dillonzq/LoveIt" target="_blank" rel="noopener noreffer" title="LoveIt 0.2.10"><i class="far fa-kiss-wink-heart fa-fw"></i> LoveIt</a>
                </div><div class="footer-line"><i class="far fa-copyright fa-fw"></i><span itemprop="copyrightYear">2022</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="/dev-review/" target="_blank"></a></span></div>
        </div>
    </footer></div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="Back to Top">
                <i class="fas fa-arrow-up fa-fw"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="View Comments">
                <i class="fas fa-comment fa-fw"></i>
            </a>
        </div><script type="text/javascript" src="/dev-review/lib/smooth-scroll/smooth-scroll.min.js"></script><script type="text/javascript" src="/dev-review/lib/lazysizes/lazysizes.min.js"></script><script type="text/javascript" src="/dev-review/lib/clipboard/clipboard.min.js"></script><script type="text/javascript">window.config={"code":{"copyTitle":"Copy to clipboard","maxShownLines":10},"comment":{}};</script><script type="text/javascript" src="/dev-review/js/theme.min.js"></script></body>
</html>
